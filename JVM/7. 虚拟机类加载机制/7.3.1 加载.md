
### 类加载的“加载”阶段

Java类的加载”(Loading)具体包含以下三个主要活动：

1. **获取二进制字节流**
   - 通过==类的全限定名获==取定义此类的二进制字节流。

2. **转化为方法区的运行时数据结构**
   - 将二进制字节流的静态存储结构转化为==方法区的运行时数据结构==。

3. **生成`java.lang.Class`对象**
   - 在堆内存中生成一个`java.lang.Class`对象，作为方法区中类数据的访问入口。

### 类加载器的灵活性

- Java虚拟机规范并没有强制要求从哪里或如何获取类的二进制字节流，给予了虚拟机实现和Java应用很大的*自由度* 。
- 非数组类型的加载阶段(准确地说，是加载阶段中获取类的二进 制字节流的动作)是开发人员*可控性最强的阶段* 。
- 开发人员可以通过*自定义类加载器*，重写`findClass()`或`loadClass()`方法，控制字节流的获取方式，实现代码获取的动态性。

### 数组类的特殊性

- 数组类由Java虚拟机==直接在内存中动态构造==，**而非通过类加载器**。
- 数组类的加载过程遵循特定规则：
	- 若数组的组件类型是*引用类型*，*递归使用* 加载过程加载此组件类型。
	- 若数组的组件类型不是引用类型，则*标记数组类与引导类加载器关联* 。
	- 数组类的可访问性与其组件类型的可访问性一致；若组件类型不是引用类型，则数组类默认为`public`。



- 加载阶段与连接阶段的某些活动是==交错进行的==，虽然两个阶段在开始时间上保持固定顺序，但连接阶段的某些活动可能夹在加载阶段之中进行。



- **概览**
	- 方法区是各个==线程共享==的*逻辑* 内存区域，包含[[2.1.5.2 运行常量池(Runtime Constant Pool)]], 用于存储以下信息：
		- 已被虚拟机加载的类型信息
		- 常量
		- 静态变量
		- 即时编译器编译后的代码缓存
	- 虽然方法区在《Java虚拟机规范》中被视作堆的一部分，但它通常被称为==“非堆”（Non-Heap）==，以区分Java堆。


- **方法区与永久代的关系**
	- JDK 8之前的HotSpot虚拟机中，方法区常被称作“永久代”（Permanent Generation）。
	- 从JDK 8开始，HotSpot虚拟机移除了永久代，引入了[[2.1.5.1 元空间(Meta Space)]]元空间（Metaspace）。

- **发展历程**
	- JDK 6：HotSpot开始计划逐步使用本地内存来实现方法区。 
	- JDK 7：将字符串常量池等从永久代移至Java堆。 
	- JDK 8：完全废除永久代，引入[[2.1.5.1 元空间(Meta Space)]]元空间（Metaspace）来代替，存储类元数据。

- **方法区的特点**
	- 方法区==可以是固定大小或可扩展。
	- 与Java堆一样，方法区==不需要连续的内存。

- **内存回收目标**
	- 方法区的垃圾收集活动相对较少，==*回收目标主要是常量池的回收和类型的卸载。
	- 类型卸载条件苛刻，回收效果通常难以满意。

- **内存分配失败**
	- 如果方法区无法满足内存分配需求，Java虚拟机将抛出`OutOfMemoryError`异常。


****运行时常量池、方法区、字符串常量池这些都是不随虚拟机实现而改变的逻辑概念，是公共且抽象的，
Metaspace、Heap 是与具体某种虚拟机实现相关的物理概念，是私有且具体的。****
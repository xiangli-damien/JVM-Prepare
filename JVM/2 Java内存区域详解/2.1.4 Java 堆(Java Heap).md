
  
Java堆是Java虚拟机管理的==**最大**==内存区域，具有以下特点： 

- **共享性**：由所有线程共享 
- **创建时机**：在虚拟机启动时创建 
- **目的**：主要用于存放对象实例 
- **存放内容**：几乎所有的对象实例以及数组都在堆上分配 
- **垃圾收集**： 
	- 被称作GC堆（Garbage Collected Heap） 
	- 现代垃圾收集器多数基于分代收集理论，涉及"新生代"、"老年代"等概念 
- **内存分配**： 
	- 可以划分出多个==**线程私有**==的分配缓冲区(*Thread Local Allocation Buffer，TLAB*)，提高对象分配效率 
	- 不管怎么划分，都只能存储对象的实例
- **内存连续性**： 
	- ==物理上可能不连续，逻辑上被视为连续== 
	- 大对象（例如数组对象）可能需要连续的内存空间以优化存储 
- **内存大小**： 
	- 可以固定大小或可扩展
	- 通过-Xmx和-Xms参数设置
		- Xmx： Java堆内存的最大值
		- Xms： Java堆内存的初始值
		- 一般建议将`Xms`和`Xmx`设置为相同的值
- **异常情况**： 
	- 如果无法在堆上分配对象实例，并且堆也无法扩展，将抛出`OutOfMemoryError`异常 


>- 对象实例的分配和数组的分配通常都发生在Java堆上。
>- Java堆的大小可以是固定的或者可以扩展。如果堆无法满足内存分配需求，将会抛出内存溢出错误。
>- Java语言的发展和即时编译技术的进步，尤其是逃逸分析和标量替换技术，已经导致内存管理上的一些微妙变化。

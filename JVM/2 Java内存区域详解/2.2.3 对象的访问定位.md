
在HotSpot虚拟机中，对象的访问定位可以通过两种方式进行：

1. **句柄访问**：

    - JVM使用==句柄池==来访问对象。每个对象在Java堆中都会产生一个句柄，而句柄中包含了*指向对象实例数据* 以及*对象的类型数据* (静态变量)的指针。
    - *好处* : 
	    - 是reference中存储的是*稳定的句柄地址*。
	    - 在对象被移动（如GC过程中）时只需要改变句柄中的实例数据指针即可。
    - 参见如下图
    ![[通过句柄访问对象.png]]

2. **直接指针访问**：

    - 这种方式下，Java对象的引用直接指向对象实例数据，没有中间层。
    - **优点**：
	    - 这种方式提供了*更快的访问速度*，因为减少了一次指针解引用的开销。
	- **缺点**
	    - 对象移动时，需要更新所有的引用地址，这可能会在GC时带来额外的开销。
    - 参见如下图。
    ![[通过直接指针访问对象.png]]

> 这两种方式的选择依赖于虚拟机的设计和GC策略。HotSpot虚拟机采用了**直接指针**的方式来进行对象访问，以提高性能。但不同的虚拟机可能会选择不同的访问方式。


